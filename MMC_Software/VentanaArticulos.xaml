<UserControl x:Class="MMC_Software.VentanaArticulos"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:MMC_Software"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">

    <Grid Background="#FAFAFA" Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Encabezado -->
            <RowDefinition Height="Auto"/>
            <!-- Barra de búsqueda -->
            <RowDefinition Height="*"/>
            <!-- DataGrid que ocupa el resto -->
        </Grid.RowDefinitions>

        <!-- Encabezado -->
        <TextBlock Grid.Row="0"
                   Text="Lista de Artículos"
                   FontSize="22"
                   FontWeight="Bold"
                   Foreground="#333"
                   Margin="0,0,0,12"/>

        <!-- Barra de búsqueda -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,12">
            <TextBox TextChanged="txtBuscar_TextChanged" 
                     x:Name="txtBuscar"
                     Width="240"
                     Height="36"
                     FontSize="15"
                     VerticalContentAlignment="Center"
                     Padding="8,0"
                     BorderBrush="#CCC"
                     BorderThickness="1"
                     Background="White"
                     ToolTip="Escriba para buscar"/>

            <Button Content="Recargar Datos" 
                    Width="150" Height="36"
                    FontSize="15"
                    Background="#1976D2" Foreground="White"
                    BorderThickness="0"
                    Cursor="Hand"
                    Margin="8,0,0,0"
                    Click="Button_Click"/>

            <Button Height="36" 
                    x:Name="btnCrearArticulo"
                    Content="📦 Crear"
                    Width="110"
                    FontSize="15"
                    Background="#388E3C" Foreground="White"
                    BorderThickness="0"
                    Cursor="Hand"
                    Margin="8,0,0,0"
                    Click="btnCrearArticulo_Click"/>

            <Button Content="🚪 Salir"
                    Width="110" Height="36"
                    FontSize="15"
                    Background="#D32F2F" Foreground="White"
                    BorderThickness="0"
                    Cursor="Hand"
                    Margin="8,0,0,0"
                    Click="btnSalir_Click"/>
        </StackPanel>

        <!-- Tabla de artículos -->
        <DataGrid Grid.Row="2"
                  MouseDoubleClick="dgArticulos_MouseDoubleClick"
                  x:Name="dgArticulos"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False"
                  CanUserDeleteRows="False"
                  IsReadOnly="True"
                  SelectionMode="Single"
                  SelectionUnit="FullRow"
                  FontSize="15"
                  RowHeight="34"
                  GridLinesVisibility="None"
                  BorderBrush="#DDD"
                  BorderThickness="1"
                  HeadersVisibility="All"
                  AlternatingRowBackground="#F5F5F5">
            <DataGrid.ColumnHeaderStyle>
                <Style TargetType="DataGridColumnHeader">
                    <Setter Property="FontSize" Value="15"/>
                    <Setter Property="FontWeight" Value="Bold"/>
                    <Setter Property="Foreground" Value="#444"/>
                    <Setter Property="Padding" Value="8,4"/>
                    <Setter Property="Background" Value="#E0E0E0"/>
                </Style>
            </DataGrid.ColumnHeaderStyle>
            <DataGrid.Columns>
                <DataGridTextColumn Header="ID" Binding="{Binding ArticulosID}" Width="50"/>
                <DataGridTextColumn Header="Código" Binding="{Binding CodigoArticulo}" Width="100"/>
                <DataGridTextColumn Header="Nombre" Binding="{Binding NombreArticulo}" Width="250"/>
                <DataGridTextColumn Header="Costo Sin IVA" Binding="{Binding CostoArticuloSinIva}" Width="100"/>
                <DataGridTextColumn Header="Costo con IVA" Binding="{Binding CostoArticuloMasIva}" Width="100"/>
                <DataGridTextColumn Header="Precio Venta" Binding="{Binding ArticulosVenta}" Width="100"/>
                <DataGridTextColumn Header="Margen" Binding="{Binding ArticulosMargen}" Width="80"/>
                <DataGridTextColumn Header="Incremento" Binding="{Binding ArticulosIncremento}" Width="80"/>
                <DataGridTextColumn Header="Categoría" Binding="{Binding NombreCategoria}" Width="100"/>
                <DataGridTextColumn Header="SubCategoría" Binding="{Binding NombreSubCategoria}" Width="120"/>
                <DataGridTextColumn Header="Barras" Binding="{Binding ArticulosBarras}" Width="150"/>
                <DataGridTextColumn Header="Marca" Binding="{Binding NombreMarca}" Width="100"/>
                <DataGridTextColumn Header="Referencia" Binding="{Binding ArticulosReferencias}" Width="140"/>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</UserControl>
