<Window x:Class="MMC_Software.VentanaSelecionarFormaPago"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MMC_Software"
        mc:Ignorable="d"
        Title="Seleccionar Forma de Pago" Height="500" Width="800" WindowStartupLocation="CenterScreen"
        Background="#F7F9FB">

    <Grid Margin="20" >
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Encabezado -->
            <RowDefinition Height="*"/>
            <!-- Lista -->
            <RowDefinition Height="Auto"/>
            <!-- Total -->
            <RowDefinition Height="Auto"/>
            <!-- Botones -->
        </Grid.RowDefinitions>
        <!-- Encabezado -->
        <Border Background="#2C3E50" CornerRadius="8" Padding="15" Margin="0,0,0,15">
            <Border.Effect>
                <DropShadowEffect BlurRadius="10" ShadowDepth="3" Opacity="0.4"/>
            </Border.Effect>
            <TextBlock Text="💳 Seleccione la Forma de Pago"
               FontSize="22" FontWeight="Bold" Foreground="White"
               HorizontalAlignment="Center"/>
        </Border>

        <!-- Lista de formas de pago -->
        <Border Grid.Row="1" CornerRadius="10" BorderBrush="#D6DDE5" BorderThickness="1" Background="White"
                Padding="5" >
            <DataGrid x:Name="dgFormasPago" AutoGenerateColumns="False" CanUserAddRows="False"
                      HeadersVisibility="Column" SelectionMode="Single"
                      Margin="0" Background="White" BorderThickness="0"
                      AlternatingRowBackground="#F2F4F6" RowHeight="35" FontSize="15"
                      GridLinesVisibility="None"
                      SelectionChanged="dgFormasPago_SelectionChanged"
                      PreviewKeyDown="dgFormasPago_PreviewKeyDown"
                      MouseDoubleClick="dgFormasPago_MouseDoubleClick">
                <DataGrid.Resources>
                    <!-- Estilo para cabecera -->
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="Background" Value="#34495E"/>
                        <Setter Property="Foreground" Value="White"/>
                        <Setter Property="FontWeight" Value="Bold"/>
                        <Setter Property="Padding" Value="10"/>
                    </Style>
                    <!-- Estilo para fila seleccionada -->
                    <Style TargetType="DataGridRow">
                        <Setter Property="Background" Value="White"/>
                        <Setter Property="Cursor" Value="Hand"/>
                        <Setter Property="BorderBrush" Value="Transparent"/>
                        <Setter Property="BorderThickness" Value="0"/>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#D6EAF8"/>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Background" Value="#AED6F1"/>
                                <Setter Property="Foreground" Value="Black"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </DataGrid.Resources>

                <DataGrid.Columns>
                    <DataGridTextColumn Header="Código" Binding="{Binding Codigo}" Width="100" IsReadOnly="True"/>
                    <DataGridTextColumn Header="Nombre" Binding="{Binding Nombre}" Width="*" IsReadOnly="True"/>
                    <DataGridTextColumn Header="Valor" Binding="{Binding Valor ,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Width="150" IsReadOnly="True"/>
                </DataGrid.Columns>
            </DataGrid>
        </Border>

        <!-- Total -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,15,0,15">
            <CheckBox Content="¿Maneja Varias Formas?" VerticalAlignment="Center" Margin="5"></CheckBox>
            <TextBlock Text="Total:" FontSize="18" FontWeight="Bold" VerticalAlignment="Center" Foreground="#2C3E50"/>
            <Border Background="#ECF0F1" CornerRadius="5" Padding="5" Margin="10,0,0,0">
                <TextBox x:Name="txtTotal" Width="200" FontSize="18" FontWeight="Bold"
                         TextAlignment="Right" BorderThickness="0" Background="Transparent" IsReadOnly="True"/>
            </Border>
        </StackPanel>

        <!-- Botones -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
            <Button Content="Aceptar" Width="120" Height="40" Margin="0,0,10,0" Background="#27AE60" Foreground="White"
                    FontWeight="Bold" Cursor="Hand" Click="ButtonAceptar_Click">
                <Button.Style>
                    <Style TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}" CornerRadius="8" >
                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    </Border>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#2ECC71"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>

            <Button Content="Cancelar" Width="120" Height="40" Background="#E74C3C" Foreground="White" FontWeight="Bold"
                    Click="Button_Click" Cursor="Hand">
                <Button.Style>
                    <Style TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}" CornerRadius="8" >
                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    </Border>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#C0392B"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>
        </StackPanel>
    </Grid>
</Window>
